<!DOCTYPE html>
<html>
<head>
    <title>Curriculum Lookup Test</title>
</head>
<body>
    <h1>Testing Curriculum Row 2574 Lookup</h1>
    <div id="results"></div>
    
    <script src="dataManager.js"></script>
    <script>
        async function testCurriculumLookup() {
            const results = document.getElementById('results');
            results.innerHTML = 'Loading curriculum...';
            
            try {
                // Time the curriculum loading
                const startTime = performance.now();
                
                // Load curriculum using existing dataManager function
                const dataManager = new DataManager();
                await dataManager.loadAllToStorage();
                const curriculum = await dataManager.loadCurriculum();
                
                const endTime = performance.now();
                const loadTime = endTime - startTime;
                
                // Find row with id 2574
                const searchStartTime = performance.now();
                const row2574 = curriculum.find(item => item.ids === '2574');
                const searchEndTime = performance.now();
                const searchTime = searchEndTime - searchStartTime;
                
                // Display results
                results.innerHTML = `
                    <h2>Results:</h2>
                    <p><strong>Total curriculum load time:</strong> ${loadTime.toFixed(2)}ms</p>
                    <p><strong>Search time for ID 2574:</strong> ${searchTime.toFixed(2)}ms</p>
                    <p><strong>Total curriculum entries:</strong> ${curriculum.length}</p>
                    <hr>
                    <h3>Row 2574 Contents:</h3>
                    ${row2574 ? `
                        <ul>
                            <li><strong>IDS:</strong> ${row2574.ids}</li>
                            <li><strong>Question:</strong> ${row2574.question}</li>
                            <li><strong>Answer:</strong> ${row2574.answer}</li>
                            <li><strong>Audio:</strong> ${row2574.audio}</li>
                            <li><strong>Info:</strong> ${row2574.info}</li>
                            <li><strong>Clue:</strong> ${row2574.clue}</li>
                            <li><strong>Theme:</strong> ${row2574.theme}</li>
                            <li><strong>Subtype:</strong> ${row2574.subtype}</li>
                            <li><strong>Level:</strong> ${row2574.level}</li>
                            <li><strong>Seq:</strong> ${row2574.seq}</li>
                            <li><strong>Type:</strong> ${row2574.type}</li>
                            <li><strong>Person:</strong> ${row2574.person}</li>
                            <li><strong>Tense:</strong> ${row2574.tense}</li>
                            <li><strong>Comment:</strong> ${row2574.comment}</li>
                        </ul>
                    ` : '<p><strong>Row 2574 not found!</strong></p>'}
                `;
                
            } catch (error) {
                results.innerHTML = `<p><strong>Error:</strong> ${error.message}</p>`;
            }
        }
        
        // Run the test when page loads
        testCurriculumLookup();
    </script>
</body>
</html>
