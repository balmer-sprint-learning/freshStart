<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FreshStart App</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="app-skeleton">
    <div class="responsive-box">
      <div class="skeleton-header">
        <div class="header-fields">
          <div class="header-field">h1</div>
          <div class="header-field">h2</div>
          <div class="header-field">h3</div>
        </div>
      </div>
      <div class="skeleton-content">
        <div class="screen-profile active">
          <form class="profile-form">
            <div class="profile-field">
              <label for="nickname">Nickname</label>
              <input type="text" id="nickname" name="nickname" placeholder="nickname 2 letters" maxlength="2">
            </div>
            <div class="profile-field">
              <label for="licence">Licence</label>
              <input type="text" id="licence" name="licence" placeholder="calculated" readonly>
            </div>
            <div class="profile-field">
              <label for="version">Version</label>
              <input type="text" id="version" name="version" placeholder="Enter version">
            </div>
            <div class="profile-field">
              <label for="prefix">Prefix</label>
              <input type="text" id="prefix" name="prefix" placeholder="calculated" readonly>
            </div>
            <button type="button" class="start-button">Start my 31 days now!</button>
          </form>
        </div>
        <div class="screen-start">
          <div class="chart-container">
            <canvas id="retentionChart"></canvas>
            <div class="chart-center-text">87%</div>
          </div>
        </div>
        <div class="screen-action">
          <div class="action-top-section">
            <div class="action-field">
              <input type="text" id="question" name="question" placeholder="Enter question (up to 10 words)">
            </div>
            <div class="action-field">
              <input type="text" id="clue" name="clue" placeholder="Enter clue">
            </div>
            <div class="action-field">
              <input type="text" id="answer" name="answer" placeholder="Enter answer (up to 10 words)">
            </div>
          </div>
          
          <div class="action-buttons">
            <button type="button" class="action-btn" id="btn1">B1</button>
            <button type="button" class="action-btn" id="btn2">B2</button>
            <button type="button" class="action-btn" id="btn3">B3</button>
          </div>
          
          <div class="action-info-section">
            <textarea id="info" name="info" placeholder="Enter additional information..."></textarea>
          </div>
        </div>
      </div>
      <div class="skeleton-footer">
        <div class="footer-fields">
          <button class="footer-field" onclick="showScreen('f1')">F1</button>
          <button class="footer-field" onclick="showScreen('f2')">F2</button>
          <button class="footer-field" onclick="showScreen('f3')">F3</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Dynamic loader removed; profile form is embedded directly for now -->
  <script>
  // Screen switching with background colors
  const themes = {
    'f1': 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f8fafc 100%)', // soft blue-gray gradient for start screen
    'f2': 'rgb(225,255,255)', // light cyan for action screen  
    'f3': 'rgb(225,225,255)'  // light blue for profile screen
  };

  function showScreen(screenId) {
    // Hide all screens
    const screens = document.querySelectorAll('.screen-profile, .screen-start, .screen-action');
    screens.forEach(screen => screen.classList.remove('active'));
    
    // Show the selected screen
    let targetScreen;
    switch(screenId) {
      case 'f1':
        targetScreen = document.querySelector('.screen-start');
        break;
      case 'f2':
        targetScreen = document.querySelector('.screen-action');
        break;
      case 'f3':
        targetScreen = document.querySelector('.screen-profile');
        break;
    }
    
    if (targetScreen) {
      targetScreen.classList.add('active');
    }
    
    // Set background color
    document.querySelector('.responsive-box').style.background = themes[screenId];
  }

  // Show F3 (profile) by default
  showScreen('f3');

  // Initialize Chart.js when the page loads
  document.addEventListener('DOMContentLoaded', function() {
    const ctx = document.getElementById('retentionChart').getContext('2d');
    const retentionChart = new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: ['First Slice', 'Second Slice', 'Third Slice', 'Fourth Slice'],
        datasets: [{
          data: [300, 150, 50, 250],
          backgroundColor: [
            'rgb(0,119,123)',      // first slice - original color
            'rgba(0,119,123,0.7)',  // second slice - lighter
            'rgba(0,119,123,0.4)',  // third slice - lighter still
            'rgba(0,119,123,0.1)'   // fourth slice - super faint almost white
          ],
          borderWidth: 0,
          cutout: '60%' // creates the doughnut hole
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            display: false // hide legend for cleaner look
          },
          tooltip: {
            enabled: true
          }
        }
      }
    });
  });
  </script>
 </body>
 </html>
